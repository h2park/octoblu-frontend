<breadcrumb-tab-bar fragments="fragments"></breadcrumb-tab-bar>
<md-content class="interior__wrapper">

  <div class="interior">
    <div class="BluprintDetail">
      <h1 class="BluprintDetail-label" ng-hide="editMode">
        {{bluprint.name}}
      </h1>

      <md-input-container class="name BluprintDetail-label--edit" ng-show="editMode">
        <label>Name</label>
        <input required ng-model="bluprintEdit.name">
      </md-input-container>

      <p class="BluprintDetail-description" ng-hide="editMode">
        {{bluprint.description}}
        <span>
          -
          <a class="BluprintDetail-editLink" ng-hide="editMode" ng-click="editMode = true">
            Edit
          </a>
        </span>
      </p>

      <md-input-container class="name BluprintDetail-description--edit" ng-show="editMode">
        <label>Description</label>
        <textarea md-maxlength="300" required ng-model="bluprintEdit.description"></textarea>
      </md-input-container>

      <div class="BluprintDetail-publicMeta" ng-hide="editMode">
        <span>
          <i class="fa fa-user BluprintCard-authorIcon"></i>
          {{bluprint.ownerName}}
        </span>
        <span ng-show="bluprint.public" class="Bluprint-metaItem">
          <i class="fa fa-globe"></i>
          Public
        </span>
        <span ng-hide="bluprint.public" class="Bluprint-metaItem">
          <i class="fa fa-lock"></i>
          Private
        </span>
      </div>

      <md-switch
        ng-model="bluprintEdit.public"
        class="make-public Bluprint-edit-field"
        aria-label="Make Bluprint Public"
        ng-show="editMode">
        Public
        <em>(Making your Bluprint public will allow other users to import it from the Discover page.)</em>
      </md-switch>

      <div class="BluprintDetail-editActions" ng-show="editMode">
        <a class="BluButton BluButton--save" ng-click="controller.updateBluprintNow()">Save</a>
        <a class="BluButton BluButton--cancel" ng-click="controller.handleCancel()">Cancel</a>
      </div>


      <button ng-click="controller.import()" class="BluprintDetail-import" ng-hide="editMode">Import</button>

      <div class="BluprintDetail-meta" ng-hide="editMode">
        <a href="{{controller.twitterUrl}}" target="_blank" class="Share-button">
          <img src="https://icons.octoblu.com/channel/twitter.svg" class="Share-buttonImage" alt="twitter">
          Twitter
        </a>
        <a href="{{controller.facebookUrl}}" target="_blank" class="Share-button">
          <img src="https://icons.octoblu.com/channel/facebook.svg" class="Share-buttonImage" alt="facebook">
          Facebook
        </a>
        <a href="{{controller.emailUrl}}" target="_blank" class="Share-button">
          <img src="https://icons.octoblu.com/channel/email.svg" class="Share-buttonImage" alt="email">
          Email
        </a>
        <button
          class="Share-button"
          ng-click=""
          clip-click-fallback="controller.dialogBluprintUrl(bluprint.uuid)"
          clip-copy="controller.getBluprintImportUrl(bluprint.uuid)"
          clip-click="controller.toastBluprintUrl(bluprint.uuid)">
            <i class="fa fa-clipboard Share-buttonImage--copy"></i>
            Get Link
        </button>
      </div>

        <div ng-show="editMode">
          <h3>DANGER ZONE</h3>
          <hr>
          <button class="BluButton BluButton--cancel">DELETE YOUR BLUPRINT</button>
        </div>
  </div>
</md-content>
