<md-content class="node-wizard">
  <h2 class="node-wizard__title">Add {{nodeType.name}}</h2>

  <img src="{{nodeType.logo}}" class="node-wizard__logo">

  <div class="node-wizard__body">
    <md-select ng-model="newDevice.action" class="node-wizard__form-actions" required>
      <md-option ng-value="'addUnclaimed'">Add an unclaimed device</md-option>
      <md-option ng-value="'registerNew'">Register a new device</md-option>
      <md-option ng-value="'claimExisting'">Claim an existing device</md-option>
    </md-select>

    <form ng-submit="addDevice()" class="node-wizard__form">
      <md-input-container class="node-wizard__form-row">
        <label>Name</label>
        <input type="text" ng-model="newDevice.name" aria-label="Name" required>
      </md-input-container>

      <div class="node-wizard__form-row" ng-show="newDevice.action == 'addUnclaimed'">
        <md-select placeholder="Unclaimed Devices" ng-model="newDevice.selectedDevice">
          <md-option ng-value="device" ng-repeat="device in newDevice.unclaimedDevices" >{{device.label}}</md-option>
        </md-select>
      </div>

      <section ng-show="newDevice.action == claimExisting" ng-hide="newDevice.action !== 'claimExisting'">
        <md-input-container class="node-wizard__form-row">
          <label>UUID</label>
          <input type="text" aria-label="UUID" ng-model="existingDevice.uuid">
        </md-input-container>

        <md-input-container class="node-wizard__form-row">
          <label>Token</label>
          <input type="password" aria-label="token" ng-model="existingDevice.token">
        </md-input-container>
      </section>

      <p class="help-block node-wizard__form-row" ng-if="errorMessage">{{errorMessage}}</p>

      <md-button class="md-primary md-raised node-wizard__button">
        Add Device
      </md-button>
    </form>

  </div>
</md-content>
