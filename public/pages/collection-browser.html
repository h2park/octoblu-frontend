<div class="sidebar__pane" ng-class="{'sidebar__pane-section--collapse': hideSection}">
  <span class="sidebar__pane-section--collapse-btn" ng-click="hideSection = !hideSection">
    <i class="fa fa-chevron-down" ng-show="hideSection"></i>
    <i class="fa fa-chevron-up" ng-show="!hideSection"></i>
  </span>

  <div class="sidebar__pane-content">
    <header class="sidebar__toolbar sidebar__toolbar--header">
      <a class="sidebar__toolbar-button" ng-click="controller.toggleActiveTab('things')" ng-class="{'active' : tab.state === 'things'}" title="Things">
        Things
      </a>

      <a class="sidebar__toolbar-button" ng-click="controller.toggleActiveTab('tools')" ng-class="{'active' : tab.state === 'tools'}" title="Tools">
        Tools
      </a>

      <a class="sidebar__toolbar-button" ng-click="controller.toggleActiveTab('debug')" ng-class="{'active' : tab.state === 'debug'}" title="Debug">
        Debug
      </a>
    </header>

    <main class="sidebar__pane-body">
      <div ng-show="tab.state == 'things'">
        <header class="blu-bordered-header" ng-hide="filterQuery">
          <h4 class="blu-bordered-header-label">
            Connected Things
          </h4>
          <hr class="blu-bordered-header-divider">
        </header>

        <node-collection
          flow="flow"
          nodes="nodes.configured"
          filter-query="filterQuery"
          view-style="collectionViewStyle">
        </node-collection>

        <header class="blu-bordered-header" ng-hide="filterQuery">
          <h4 class="blu-bordered-header-label">
            Available Things
          </h4>
          <hr class="blu-bordered-header-divider">
        </header>

        <node-collection
          flow="flow"
          nodes="nodes.available"
          filter-query="filterQuery"
          view-style="collectionViewStyle">
        </node-collection>
      </div>

      <node-collection ng-show="tab.state == 'tools'" flow="flow" nodes="nodes.operators" filter-query="filterQuery" view-style="collectionViewStyle"></node-collection>

      <flow-debug-browser ng-show="tab.state == 'debug'"></flow-debug-browser>
    </main>

    <footer class="sidebar__toolbar sidebar__toolbar--footer">
      <span ng-show="tab.state == 'debug'">
        <button ng-click="debugLines = []" class="sidebar__toolbar-button">
          <i class="fa fa-ban fa-lg"></i>
        </button>

        <button ng-click="controller.toggleViewSource()" class="sidebar__toolbar-button">
          <i class="fa fa-code fa-lg"></i>
        </button>
      </span>

      <span ng-hide="tab.state == 'debug'">
        <button ng-if="collectionViewStyle == 'list'" ng-click="controller.setCollectionViewStyle('grid')" class="sidebar__toolbar-button">
          <i class="fa fa-th-large fa-lg"></i>
        </button>
        <button ng-if="collectionViewStyle == 'grid'" ng-click="controller.setCollectionViewStyle('list')" class="sidebar__toolbar-button">
          <i class="fa fa-th-list fa-lg"></i>
        </button>
      </span>

      <div class="sidebar__filter-form">
        <i class="fa fa-search fa-lg sidebar__filter-icon"></i>
        <input ng-model="filterQuery" class="sidebar__filter-input" type="search" name="Filter" placeholder="Filter...">
      </div>
    </footer>
  </div>
</div>
